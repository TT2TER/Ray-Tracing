# 这是一个并行编程的大作业

这是一个关于光线追踪的项目。

## 仓库分支结构

本仓库包含以下分支：

- `main`: 主分支，以rwt为基础的c++光追代码，进行了一定的修改。
- `multi_threads`: c++11 多线程采样实现的代码。
- `real_multi_threads`: c++11多线程渲染实现的代码。
- `cuda`: CUDA加速版本的代码。

您可以根据您的需求切换到相应的分支以获取特定功能或改进的代码。

## 获取代码

要获取此项目的代码并切换到您想要的分支，请执行以下步骤：

1. 打开终端（命令行界面）。

2. 使用以下命令克隆远程仓库到您的本地计算机：

   ```bash
   git clone https://github.com/TT2TER/Ray-Tracing.git
   ```

3. 进入克隆的仓库目录：

   ```bash
   cd Ray-Tracing
   ```

4. 现在，您可以根据您的需求切换到特定的分支。例如，如果您想切换到`cuda`分支，可以使用以下命令：

   ```bash
   git checkout cuda
   ```

   如果您想切换到其他分支，只需将`cuda`替换为您想要的分支名称即可。

5. 现在，您已经成功切换到您想要的分支，并且可以开始使用该分支上的代码。

## 使用CMake编译和运行项目

本项目使用CMake来管理编译过程，以下是如何使用CMake来编译和运行项目的步骤：

1. **安装CMake**

   如果您尚未安装CMake，请在您的计算机上安装CMake。您可以从[CMake官方网站](https://cmake.org/download/)下载适用于您的操作系统的安装程序，或者使用包管理器（例如`apt`、`brew`、`chocolatey`等）进行安装。

2. **创建构建目录**

3. **生成构建文件**

4. **编译项目**

5. **运行项目**

   在成功编译项目后，您可以运行生成的可执行文件。例如，如果生成的可执行文件名为`main`，您可以运行它：

   ```bash
   ./main > output.ppm
   ```
   output.ppm是输出文件，可以使用ppm格式的图片查看器打开。

   **出于编码原因，您可能需要使用cmd运行**

   根据项目的要求，可能需要提供一些命令行参数或配置文件。

现在，您已经成功地使用CMake编译和运行了项目。请注意，具体的命令和选项可能会因项目的不同而有所不同，所以请根据项目的要求进行相应的调整。

## *运行cuda项目*
1. 在运行项目前需要安装`cuda`和`nvcc`

win安装可以参考[这篇文章](https://blog.csdn.net/anmin8888/article/details/127910084)

其他请自便

2. 在编译前，您需要将CMakeLists.txt中的`CUDA_ARCHITECTURES`后的`"86"`修改为您的显卡架构号

希望这个指南能够帮助您成功地编译和运行项目！如果您遇到任何问题或需要进一步的帮助，请随时提问。